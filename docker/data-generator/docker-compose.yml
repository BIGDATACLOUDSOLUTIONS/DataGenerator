version: '3.5'
services:
  ######################################################
  # DataGenerator
  ######################################################

  invoices:
    image: generator:latest
    profiles:
      - invoices
    restart: no
    container_name: customer-file
    volumes:
      - ${PROJECT_BASE_DIR:-.}/generated-files:/root/generated-files
      - ${PROJECT_BASE_DIR:-.}/config/data_generator.conf:/root/config/data_generator.conf
    command: invoices
    network_mode: host

  payments:
    image: generator:latest
    profiles:
      - payments
    restart: no
    container_name: customer-file
    volumes:
      - ${PROJECT_BASE_DIR:-.}/generated-files:/root/generated-files
      - ${PROJECT_BASE_DIR:-.}/config/data_generator.conf:/root/config/data_generator.conf
    command: payments
    network_mode: host

  payments-master:
    image: generator:latest
    profiles:
      - payments-master
    restart: no
    container_name: customer-file
    volumes:
      - ${PROJECT_BASE_DIR:-.}/generated-files:/root/generated-files
      - ${PROJECT_BASE_DIR:-.}/config/data_generator.conf:/root/config/data_generator.conf
    command: payments-master
    network_mode: host


